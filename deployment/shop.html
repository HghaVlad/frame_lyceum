<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/css/custom.css" >   
    <title>Магазин</title>
</head>
<body> 
    

    <div class="container my-header">
        <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
          <div class="col-md-2 mb-2 mb-md-0">
            <a href="/" class="navbar-left"><img width="120px" src="../frame.png"></a>
          </div>
    
          <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
            <li><a href="lectures.html" class="nav-link px-2 hvt">Лекции</a></li>
            <li><a href="master-classes.html" class="nav-link px-2 hvt">Мастер-классы</a></li>
            <li><a href="shop.html" class="nav-link px-2 hvt">Магазин</a></li>
          </ul>
    
          <div class="col-md-4 text-end">
            <a href="login.html" class="btn btn-outline-primary my-mine2 my-2"><div class="hvt">Авторизация</div></a>
            <a href="reg.html" class="btn btn-outline-primary"><div class="hvt">Регистрация</div></a>
          </div>
        </header>
      </div>
      <nav class="navbar navbar-expand-md navbar-light bg-light d-md-none">
          <div class="container-fluid">
            <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMobileMenu" aria-controls="navbarMobileMenu" aria-expanded="false" aria-label="Меню">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarMobileMenu">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0 align-items-center">
                  <li class="nav-item">
                      <a href="/" class="navbar-left"><img width="120px" src="../frame.png"></a>
                    </li>
                <li class="nav-item">
                  <a class="nav-link" href="lectures.html"><div class="hvt">Лекции</div></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="master-classes.html"><div class="hvt">Мастер-классы</div></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="shop.html"><div class="hvt">Магазин</div></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="login.html"><div class="hvt">Авторизация</div></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="reg.html"><div class="hvt">Регистрация</div></a>
                </li>
              </ul>
            </div>
          </div>
        </nav>

    <div class="container my-5" id="mycontainer">
        <h1 class="hvt text-primary ">Магазин призов</h1>
        <br>
        <div class="row row-cols-1 row-cols-sm-1 row-cols-md-3 g-3">
          <div class="col">
            <div class="card shadow-sm align-items-stretch h-100">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
              <div class="card-body ">
                <p class="card-text ttf fs-2 text-primary">Мерч 1</p>
                <p class="card-text ttf fs-5 text-primary">Описание для вашего мерча </p>
                <p class="card-text ttf fs-5 text-primary">Осталось: 5 шт.</p>
                <div class="d-flex justify-content-between align-items-center">
                  <button onclick="order(1, 100)" type="button" class="btn btn-sm btn-primary" style="color: white;">Купить за 100 баллов</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm align-items-stretch  h-100">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
              <div class="card-body ">
                <p class="card-text ttf fs-2 text-primary">Мерч 2</p>
                <p class="card-text ttf fs-5 text-primary">Описание для вашего мерча</p>
                <p class="card-text ttf fs-5 text-primary">Осталось: 5 шт.</p>
                <button onclick="order(1, 100)" type="button" class="btn btn-sm btn-primary" style="color: white;">Купить за 100 баллов</button>              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm align-items-stretch h-100">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
              <div class="card-body ">
                <p class="card-text ttf fs-2 text-primary">Мерч 2</p>
                <p class="card-text ttf fs-5 text-primary">Описание для вашего мерча </p>
                <p class="card-text ttf fs-5 text-primary">Осталось: 5 шт.</p>
                <div class="d-flex justify-content-between align-items-center">
                    <button onclick="order(1, 100)" type="button" class="btn btn-sm btn-primary" style="color: white;">Купить за 100 баллов</button>                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm align-items-stretch  h-100">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
              <div class="card-body ">
                <p class="card-text ttf fs-2 text-primary">Мерч 2</p>
                <p class="card-text ttf fs-5 text-primary">Описание для вашего мерча</p>
                <p class="card-text ttf fs-5 text-primary">Осталось: 10 шт.</p>
                <button onclick="order(1, 200)" type="button" class="btn btn-sm btn-primary" style="color: white;">Купить за 200 баллов</button>              </div>
            </div>
          </div>
         </div>
      </div>

      <div class="container d-flex justify-content-center h-100 d-none" id="myasker">
        <div class="card shadow">
          <div class="card-body">
           
            <div class="d-flex justify-content-center align-items-center mb-3">
             
              <h3 class="card-title hvt text-primary">Покупка товара</h5>
            </div>
            <p class="card-text fs-4 ttf">Вы уверены, что хотите купить данный товар?</p>
            <div class="d-grid gap-2 col-6 mx-auto">
            <button onclick="agree_purchase()" type="button" class="btn btn-outline-success">Да</button>
            <button onclick="decline_purchase()" type="button" class="btn btn-outline-danger">Нет</button>
        </div>
        </div>
      </div>
      </div>

      <div class="container d-flex justify-content-center h-100 d-none" id="fail_page">
        <div class="card shadow">
          <div class="card-body">
           
            <div class="d-flex justify-content-center align-items-center mb-3">
             
              <h3 class="card-title hvt text-danger">Недостаточно средств</h5>
            </div>
            <p class="card-text fs-4 ttf">Вы не можете позволить себе этот товар</p>
            <div class="d-grid gap-2 col-6 mx-auto">
            <button onclick="close_page()" type="button" class="btn btn-outline-danger">Закрыть</button>
        </div>
        </div>
      </div>
      </div>

    <script>
        var container = document.getElementById("mycontainer");
        var asker = document.getElementById("myasker");
        var fail_page = document.getElementById("fail_page");
        var mypoints = 100
        var good_id = -1
        function order(chosen_good_id, need_points){
            container.classList.add("d-none");
            if (mypoints >= need_points){
                asker.classList.remove("d-none");
                good_id = chosen_good_id;
            }
            else{
                fail_page.classList.remove("d-none");
            }
        }

        function agree_purchase(){
            if (good_id > 0) {
            document.location.href = "/" + good_id;
            }
        }
        function decline_purchase(){
            asker.classList.add("d-none");
            container.classList.remove("d-none");
            good_id = -1;
        }

        function close_page(){
            fail_page.classList.add("d-none");
            container.classList.remove("d-none");
        }
    </script>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

</html>